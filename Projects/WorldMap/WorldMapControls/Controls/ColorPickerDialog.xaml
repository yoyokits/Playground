<Window x:Class="WorldMapControls.Controls.ColorPickerDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select Outline Color"
        Width="420" Height="380"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        Background="#1E1E1E"
        ShowInTaskbar="False">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" Text="Choose an outline color:" Foreground="White" FontSize="14" Margin="0,0,0,10" />
        
        <!-- Color Palette -->
        <Border Grid.Row="1" BorderBrush="#555" BorderThickness="1" CornerRadius="4" Background="#2A2A2A" Padding="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <UniformGrid x:Name="ColorGrid" Columns="12" />
            </ScrollViewer>
        </Border>
        
        <!-- Preview and RGB -->
        <GroupBox Grid.Row="2" Header="Custom Color" Foreground="White" Margin="0,10" 
                  BorderBrush="#555" Background="#2A2A2A" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                
                <!-- Color Preview -->
                <Border Grid.Column="0" BorderBrush="#555" BorderThickness="2" CornerRadius="4" Margin="0,0,15,0">
                    <Rectangle x:Name="PreviewRectangle" Fill="Gray" Height="60" />
                </Border>
                
                <!-- RGB Sliders -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="45" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="R:" Foreground="#FF6B6B" VerticalAlignment="Center" FontWeight="Bold" />
                        <Slider x:Name="RedSlider" Grid.Column="1" Minimum="0" Maximum="255" ValueChanged="ColorSlider_ValueChanged" Style="{x:Null}" />
                        <TextBlock x:Name="RedValue" Grid.Column="2" Text="128" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="Consolas" />
                    </Grid>
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="45" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="G:" Foreground="#51CF66" VerticalAlignment="Center" FontWeight="Bold" />
                        <Slider x:Name="GreenSlider" Grid.Column="1" Minimum="0" Maximum="255" ValueChanged="ColorSlider_ValueChanged" Style="{x:Null}" />
                        <TextBlock x:Name="GreenValue" Grid.Column="2" Text="128" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="Consolas" />
                    </Grid>
                    <Grid Margin="0,2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="20" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="45" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="B:" Foreground="#339AF0" VerticalAlignment="Center" FontWeight="Bold" />
                        <Slider x:Name="BlueSlider" Grid.Column="1" Minimum="0" Maximum="255" ValueChanged="ColorSlider_ValueChanged" Style="{x:Null}" />
                        <TextBlock x:Name="BlueValue" Grid.Column="2" Text="128" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center" FontFamily="Consolas" />
                    </Grid>
                    <TextBlock x:Name="HexValue" Text="#808080" Foreground="#ADB5BD" FontFamily="Consolas" HorizontalAlignment="Center" Margin="0,5,0,0" />
                </StackPanel>
            </Grid>
        </GroupBox>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="OK" Width="80" Height="32" Margin="0,0,10,0" 
                    Click="OK_Click" IsDefault="True"
                    Background="#3E5D90" Foreground="White" BorderBrush="#4A6AA0" BorderThickness="1"
                    FontWeight="SemiBold" />
            <Button Content="Cancel" Width="80" Height="32" 
                    Click="Cancel_Click" IsCancel="True"
                    Background="#555" Foreground="White" BorderBrush="#666" BorderThickness="1"
                    FontWeight="SemiBold" />
        </StackPanel>
    </Grid>
</Window>